---
import { site } from '../config/site';
import { getTranslations } from '../config/i18n';

const currentLang = 'es';
const t = getTranslations(currentLang);
---

<section class="how-it-works section" id="how-it-works">
  <div class="container">
    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title" data-i18n="howItWorks.title">{t.howItWorks.title}</h2>
      <p class="section-subtitle" data-i18n="howItWorks.subtitle">{t.howItWorks.subtitle}</p>
    </div>
    
    <div class="how-it-works-content">
      <!-- Compatible Devices -->
      <div class="devices-section">
        <h3 class="devices-title" data-i18n="howItWorks.compatibleDevices">{t.howItWorks.compatibleDevices}</h3>
        <div class="devices-grid">
          {site.compatibleDevices.map(device => (
            <div class="device-card">
              {device.icon === 'android' && (
                <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24a11.5 11.5 0 0 0-8.94 0L5.65 5.67c-.19-.28-.54-.37-.83-.22-.3.16-.42.54-.26.85l1.84 3.18C4.8 10.85 3.5 12.62 3.5 14.5h17c0-1.88-1.3-3.65-2.9-5.02zM7 13.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm10 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/>
                </svg>
              )}
              {device.icon === 'tv' && (
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                  <polyline points="17 2 12 7 7 2"></polyline>
                </svg>
              )}
              {device.icon === 'amazon' && (
                <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.525.13.12.174.09.336-.12.48-.256.19-.6.41-1.006.654-1.244.743-2.64 1.316-4.185 1.726-1.53.406-3.045.61-4.516.61-2.265 0-4.463-.42-6.588-1.265-2.11-.84-3.93-1.975-5.43-3.394-.178-.166-.225-.31-.135-.48zm23.71-5.12c-.225-.315-.705-.23-1.44.254-.735.484-1.41 1.074-2.01 1.77-.075.09-.12.15-.135.195-.06.104-.015.18.104.21.45.074.945-.09 1.485-.48.54-.39.945-.855 1.215-1.38.27-.54.27-.87 0-.99l-.225.42zm-1.155-5.97c-.135-.135-.315-.21-.54-.21-.404 0-.81.21-1.215.63-.404.42-.72.945-.945 1.575-.225.63-.27 1.215-.12 1.755.045.165.12.285.225.36.104.075.225.12.36.12.404 0 .81-.21 1.215-.63.404-.42.72-.945.945-1.575.225-.63.27-1.215.12-1.755-.045-.165-.12-.285-.225-.36l-.225.42z"/>
                </svg>
              )}
              {device.icon === 'google' && (
                <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"/>
                </svg>
              )}
              {device.icon === 'device' && (
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                  <line x1="12" y1="18" x2="12.01" y2="18"></line>
                </svg>
              )}
              <span class="device-label" data-i18n={`device.${device.icon}`}>{device.label.es}</span>
            </div>
          ))}
        </div>
      </div>
      
      <!-- Smart TV Disclaimer -->
      <div class="disclaimer-box">
        <div class="disclaimer-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
            <line x1="12" y1="9" x2="12" y2="13"></line>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
          </svg>
        </div>
        <div class="disclaimer-content">
          <h4 class="disclaimer-title" data-i18n="howItWorks.disclaimer.title">{t.howItWorks.disclaimer.title}</h4>
          <p class="disclaimer-text" data-i18n="howItWorks.disclaimer.description">{t.howItWorks.disclaimer.description}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .how-it-works {
    background: 
      linear-gradient(135deg, rgba(10, 14, 39, 0.92) 0%, rgba(22, 33, 62, 0.88) 50%, rgba(15, 52, 96, 0.92) 100%),
      url('/how-it-works.png') center/cover no-repeat;
  }
  
  .section-header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto var(--space-3xl);
  }
  
  .section-title {
    font-size: var(--text-3xl);
    font-weight: 800;
    margin-bottom: var(--space-md);
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .section-subtitle {
    font-size: var(--text-lg);
    color: var(--color-gray-light);
  }
  
  .how-it-works-content {
    max-width: 900px;
    margin: 0 auto;
  }
  
  .devices-section {
    margin-bottom: var(--space-3xl);
  }
  
  .devices-title {
    font-size: var(--text-xl);
    font-weight: 700;
    text-align: center;
    margin-bottom: var(--space-xl);
    color: var(--color-light);
  }
  
  .devices-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
  }
  
  .device-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    background: rgba(0, 200, 83, 0.05);
    border: 2px solid rgba(0, 200, 83, 0.2);
    border-radius: var(--radius-lg);
    transition: all var(--transition-base);
  }
  
  .device-card:hover {
    background: rgba(0, 200, 83, 0.1);
    border-color: rgba(0, 200, 83, 0.4);
    transform: translateY(-4px);
  }
  
  .device-card svg {
    color: var(--color-success);
  }
  
  .device-label {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-light);
    text-align: center;
  }
  
  .disclaimer-box {
    display: flex;
    gap: var(--space-lg);
    padding: var(--space-xl);
    background: rgba(255, 193, 7, 0.05);
    border: 2px solid rgba(255, 193, 7, 0.3);
    border-radius: var(--radius-xl);
  }
  
  .disclaimer-icon {
    flex-shrink: 0;
  }
  
  .disclaimer-icon svg {
    color: var(--color-warning);
  }
  
  .disclaimer-title {
    font-size: var(--text-lg);
    font-weight: 700;
    margin-bottom: var(--space-sm);
    color: var(--color-warning);
  }
  
  .disclaimer-text {
    font-size: var(--text-base);
    color: var(--color-gray-light);
    line-height: 1.6;
  }
  
  @media (min-width: 640px) {
    .devices-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  
  @media (min-width: 1024px) {
    .devices-grid {
      grid-template-columns: repeat(5, 1fr);
    }
    
    .section-title {
      font-size: var(--text-4xl);
    }
  }
</style>
